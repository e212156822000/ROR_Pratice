<!DOCTYPE html>
<html>
  <head>
    
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <script src="//maps.google.com/maps/api/js?key=	
AIzaSyAgb-KYjtpjZ54LVrjo8_Sia1Ff1czDm8w"></script>
	<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
	<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script>
	 <!-- only if you need custom infoboxes -->
  </head>

  <body>
  	<h1>Demo Map</h1>
  	<div style='width: 800px;'>
  		<div id="geolocation" style='width: 800px; height: 400px;'></div>
	  </div>


    <%= yield %>
    <%= "Environment: #{Rails.env}" %>
  </body>
  <script type="text/javascript">
  	map_center = { lat: 24.9685473, lng: 121.1924945 }
  	handler = Gmaps.build('Google');
      handler.buildMap({ 
      	provider: {
      		center: map_center,
	        zoom: 16,
	        draggableCursor: 'crosshair',
	        draggingCursor: 'move',
      	},
      	internal: {
      		id: 'geolocation'
      	}}, function(){
      	
        var markers = handler.addMarkers([
        	map_center
        ]);
        
        //var markers = handler.addMarkers(<%=raw @hash.to_json %>);
        //handler.map.centerOn(markers[0]);
      });
  </script>
</html>
